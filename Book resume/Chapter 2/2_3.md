### 2.3 Public-key encryption and decryption

#### Introduction to Key Types

1. **Symmetric vs. Public-Key**: In symmetric-key encryption, a single key `k` is shared between parties. Public-key encryption uses a pair of keys for each individual, such as `(eB, dB)` for Bob.

#### Key Notation and Responsibility

2. **Notation**: `eB` stands for Bob's public encryption key, and `dB` stands for his private decryption key.
3. **Responsibility**: Bob should keep his private key `dB` secret and well-protected. Backups should also be secure and never be in plaintext in untrusted storage.

#### Encryption and Decryption Procedure

4. **Encryption by Alice**: To send a message `m` to Bob, Alice uses Bob's public key `eB` to encrypt `m` into ciphertext `c`.
5. **Decryption by Bob**: Bob uses his private key `dB` to decrypt the ciphertext `c` back to the original message `m`.

#### Integrity and Security Concerns

6. **Importance of Integrity**: The integrity and authenticity of the public key are critical. Compromised keys can lead to messages being intercepted.
7. **Example Scenario**: If Charlene replaces Bob’s public key with her own, she could read messages meant for Bob.

#### Key Distribution and Scalability

8. **Symmetric Key Distribution**: In a group of `n` users, `n(n-1)/2` different symmetric keys would be needed for secure communication between each pair.
9. **Public-Key Advantage**: Only `n` key pairs are needed in total for `n` users, making it easier to manage and scale.

#### Hybrid Encryption Systems

10. **Speed and Convenience**: Symmetric-key algorithms are generally faster, but public-key methods are convenient for establishing a shared secret key.
11. **Hybrid Use-Case**: Public-key methods often establish a shared symmetric key `k`, which is then used for efficient "bulk encryption."

#### Technical Overview of RSA

12. **RSA Algorithm**: RSA, a popular public-key encryption method, has specific mathematical properties and requirements for the keys.
13. **Public and Private Keys in RSA**: The public key `eA` includes two components `(e, n)`. Here, `n = pq`, where `p` and `q` are large prime numbers.

#### Mathematical Details of RSA

14. **Euler's Phi Function**: The Euler phi function `φ(n) = (p−1)(q−1)` is critical in RSA.
15. **Key Relations**: `e` is chosen such that `gcd(e, φ(n)) = 1`. The private key `d` is calculated to satisfy `ed ≡ 1 (mod φ(n))`.

#### Practical Aspects

16. **Big Number Support**: RSA requires special "big number" support for its calculations, often provided by crypto libraries like OpenSSL.
17. **RSA in Practice**: Despite the mathematical complexity, RSA is widely used but often just for encrypting short data keys or session keys, rather than bulk message data.

#### Exercises and Learning Aids

18. **Toy RSA Example**: An exercise simplifies RSA encryption and decryption using small primes to make it understandable for a 10-year-old.
19. **Decryption Proof**: Another exercise aims to prove that RSA decryption actually works, thus reinforcing the integrity of the algorithm.
